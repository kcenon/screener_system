# [DB-001] PostgreSQL + TimescaleDB Environment Setup

## Metadata
- **Status**: TODO
- **Priority**: Critical
- **Assignee**: TBD
- **Estimated Time**: 6 hours
- **Sprint**: Sprint 1 (Week 1-2)
- **Tags**: #database #infrastructure #setup

## Description
Set up the core database environment for the Stock Screening Platform. Install PostgreSQL 16 and TimescaleDB 2.14 extension and complete initial configuration.

## Subtasks
- [ ] Install PostgreSQL 16 and verify execution
- [ ] Install TimescaleDB extension
- [ ] Create database (`screener_db`)
- [ ] Create database user and grant permissions (`screener_user`)
- [ ] Enable required PostgreSQL extensions
  - [ ] timescaledb
  - [ ] pg_trgm (trigram similarity search)
  - [ ] uuid-ossp (UUID generation)
- [ ] PostgreSQL performance tuning configuration
  - [ ] shared_buffers = 25% of RAM
  - [ ] effective_cache_size = 50% of RAM
  - [ ] work_mem = appropriate value
  - [ ] max_connections = 100
- [ ] Create backup directory and set permissions
- [ ] Write connection test script

## Acceptance Criteria
- [ ] `psql -U screener_user -d screener_db -c "SELECT version();"` succeeds
- [ ] `SELECT * FROM pg_extension WHERE extname = 'timescaledb';` returns result
- [ ] `SELECT * FROM pg_extension WHERE extname = 'pg_trgm';` returns result
- [ ] database/scripts/test_connection.sh script executes successfully
- [ ] No errors in PostgreSQL logs
- [ ] Basic performance benchmark (pgbench) executed and results recorded

## Dependencies
- **Depends on**: None (highest priority task)
- **Blocks**: DB-002, DB-003, BE-001

## References
- **SDS.md**: Section 4.1 Database Design
- **database/README.md**: Setup Instructions
- [PostgreSQL 16 Documentation](https://www.postgresql.org/docs/16/)
- [TimescaleDB Installation Guide](https://docs.timescale.com/install/latest/)

## Progress
- **0%** - Not started

## Notes
- Use Docker Compose for development environment
- Consider managed database service for production (AWS RDS, GCP Cloud SQL)
- TimescaleDB compression initially disabled, enable after data accumulation
